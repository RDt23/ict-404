\mode*

%\newmintedfile{java}{frame=single,linenos,samepage}

% =============================================================================
%                                 CHAPTER
% =============================================================================


\section{Modulidentifikation}
\label{sec:identification}

Für unsere Lernziele richten wir uns nach den Vorgaben des Verbandes
\href{https://ict-berufsbildung-bern.ch}{ICT Berufsbildung Bern} und hier im Spezifischen
nach den Kompetenzanforderungen für das
\href{https://cf.ict-berufsbildung.ch/modules.php?name=Mbk&a=20101&cmodnr=404&noheader=1}
{Modul 404}.

\begin{frame}[fragile]
    \frametitle<presentation>{Handlungsziele}

    \begin{enumerate}
        \item Aufgrund einer Vorgabe den Ablauf darstellen.
        \item Eine Benutzerschnittstelle entwerfen und implementieren.
        \item Erforderliche Daten bestimmen und Datentypen festlegen.
        \item Programmvorgabe unter Nutzung vorhandener Komponenten mit deren Eigenschaften und Methoden, sowie
        Operatoren und Kontrollstrukturen implementieren.
        \item Beim Programmieren vorgegebene Standards und Richtlinien einhalten, das Programm inline dokumentieren und
        dabei auf Wartbarkeit und Nachvollziehbarkeit achten.
        \item Programm auf Einhaltung der Funktionalität testen, Fehler erkennen und beheben.
    \end{enumerate}

\end{frame}


% =============================================================================
%                                 CHAPTER
% =============================================================================

\section{Bereitsstellen der Software}
\label{sec:java-technologie}

Java ist eine Programmiersprache und Computerplattform, die erstmals 1995 von
Sun Microsystems veröffentlicht wurde. Es gibt viele Anwendungen und
Websites, die nicht funktionieren, es sei denn, Sie haben Java installiert,
und jeden Tag werden weitere erstellt. Java ist schnell, sicher und
zuverlässig. Von Laptops bis hin zu Rechenzentren, Spielkonsolen bis hin zu
wissenschaftlichen Supercomputern, Handys bis hin zum Internet.

Am 20. April 2009 kündigte Oracle die Übernahme von Sun Microsystems für
7,4 Milliarden US-Dollar an, welche in den Folgemonaten durch verschiedene
Behörden überprüft und anschliessend genehmigt wurde.

Java als Entwicklungs- und Laufzeitumgebung kann in verschiedenen Varianten
von den folgenden Seiten heruntergeladen und installiert werden:


\subsection{Installation der Umgebung}
\label{subsec:installation}

\begin{frame}[fragile]
    \frametitle<presentation>{Installation der Umgebung}

    Wir unterscheiden im Wesentlichen zwischen den beiden Installationstypen
    JRE ({\em Java Runtime Environment}) und JDK ({\em Java
    Development Kit}).

    Die wichtigsten {\em Links} zu diesen Umgebungen finden wir hier:

    \begin{itemize}
        \item \href{https://java.com}{java.com}
        \item \href{https://openjdk.java.net}{openjdk.java.net}
    \end{itemize}

\end{frame}

In der Softwareentwicklung konzentrieren wir uns ausschliesslich auf das JDK,
da wir auf die vielen zusätzlichen {\em Tools} in der Entwicklung angewiesen
sind.


\begin{frame}[fragile]
    \frametitle<presentation>{Werkzeuge und Befehle}

    Die JDK-Tools und ihre Befehle ermöglichen es uns,
    Entwicklungsaufgaben wie das Kompilieren und Ausführen eines Programms,
    das Paketieren von Quelldateien und vieles mehr zu erledigen.

    \mode<presentation>{Hier nur eine kleine Auswahl:}
    \begin{itemize}
        \item\href{https://docs.oracle.com/en/java/javase/11/tools/javac.html}
        {javac}---Kompilieren von Klassen- und Schnittstellendefinitionen
        in Bytecode.
        \item\href{https://docs.oracle.com/en/java/javase/11/tools/java.html}
        {java}---Starten/Interpretieren eines Java Programms.
        \item\href{https://docs.oracle.com/en/java/javase/11/tools/jar.html}
        {jar}---Erstellen eines Java Archives.
        \item\href{https://docs.oracle.com/en/java/javase/11/tools/jshell.html}
        {jshell}---Interaktives Auswerten von Deklarationen, Anweisungen und
        Ausdrücken der Programmiersprache Java.
        \item<article>\href{https://docs.oracle.com/en/java/javase/11/tools/javap.html}
        {javap}---Befehl, um eine oder mehrere Klassendateien zu
        disassemblieren.
        \item<article>\href{https://docs.oracle.com/en/java/javase/11/tools/javadoc.html}
        {javadoc}---Erstellen der Java Dokumentation
        \item<article>\href{https://docs.oracle.com/en/java/javase/11/tools/keytool.html}
        {keytool}---Befehl und Optionen zum Verwalten eines kryptografischer Schlüssel.
        \item<article>\href{https://docs.oracle.com/en/java/javase/11/tools/jarsigner.html}
        {jarsigner}---Signieren und verifizieren von Java Archiven
    \end{itemize}

\end{frame}


Diese Liste stellt keinen Anspruch auf Vollständigkeit. Die komplette Dokumentation
zu den einzelnen Umgebungen und deren {\em Tools} kann jederzeit unter
\href{https://docs.oracle.com/en/java/}{docs.oracle.com} eingesehen werden.

Vorsicht ist allerdings geboten, wenn es um den Einsatz und die Lizenzierung von Java geht.
Oracle wird nach Januar 2019 keine weiteren Updates von Java SE 8 zur
gewerblichen Nutzung auf seinen Download-Sites veröffentlichen. Kunden, die
weiterhin Zugriff auf kritische Fehlerkorrekturen und Sicherheitslücken sowie
eine allgemeine Wartung von Java SE 8 bzw. früheren Versionen benötigen,
können einen langfristigen Support über Oracle Java SE Advanced erhalten.
Oracle Java SE Advanced Desktop oder Oracle Java SE Suite. Für weitere
Informationen und Details, wie Sie einen längerfristigen Support für Oracle
JDK 8 erhalten, finden Sie in der
\href{http://www.oracle.com/technetwork/java/eol-135779.html}
{Oracle Java SE Support-Roadmap}.

Die offizielle \href{https://www.oracle.com/corporate/pricing/#java-se}
{Preisliste} hilft, sich mit dem Oracle Java SE Abonnement für On Premise,
Enterprise, Desktop, Server und Cloud Workloads vertraut zu machen.


\begin{frame}[fragile]
    \frametitle<presentation>{Beliebte Java-Lernressourcen}

    \begin{itemize}
        \item\textbf{Finch Robot}---Dieser kleine Roboter von
        \href{https://www.birdbraintechnologies.com/finch/}
        {Bird Technology} nutzt verschiedene Sensoren,
        die via Java angesteuert werden können.
        \item\textbf{Oracle Academy}---Die
        \href{https://academy.oracle.com/en/training-self-study.html}
        {Oracle Academy} bietet verschiedene
        Online-Kurse und Anleitungen
        \item\textbf{Scratch}---Dies ist eine sehr einfache, am
        \href{https://scratch.mit.edu/}{MIT} entwickelte Programmierumgebung.
        Typischerweise wird diese im Vorschulalter eingesetzt.
        \item\textbf{BlueJ}---Als sehr professionelle und stark vereinfachte
        (Entwicklungs-) Umgebung wird \href{http://www.bluej.org/}{BlueJ}
        auch im späteren Alter noch für Schulungszwecke verwendet.
    \end{itemize}

\end{frame}


%
% In einer ersten Übung wollen wir die Java Entwicklungsumgebung installieren.
% Dies ist notwendig, dass wir die anschliessenden Beispiele gemeinsam anschauen
% und erweitern können.
%
\mode<presentation>
\begin{frame}[fragile]
    \frametitle{Übung - Installation der Software}
    Bevor wir mit unseren Übungen starten müssen wir sicherstellen,
    dass Java und seine {\em Tools} komplett und korrekt installiert sind.

    Bitte installieren Sie das {\em Java Development Kit} (OpenJDK) gemäss
    <\href{https://jdk.java.net/11/}{jdk.java.net/11}>.

    \vfill
    Anschliessende Kontrolle der Installation mit:

    \begin{minted}[frame=single,autogobble]{text}
        # java -version
        openjdk version "11.0.1" 2018-10-16
        ...
    \end{minted}

\end{frame}


\mode*

\begin{Exercise}[%
title={Installation der Software},
label={ex:installation}]

    Bevor wir mit unseren Übungen starten müssen wir sicherstellen, dass Java und
    seine {\em Tools} komplett und korrekt installiert sind.

    Bitte installieren Sie das {\em Java Development Kit} (OpenJDK) gemäss
    \href{https://jdk.java.net/11/}{Anleitung}.

    Anschliessend überprüfen wir die korrekte Installation mit Hilfe der Konsole wie folgt:

    \begin{minted}[frame=single,autogobble]{text}
        # java -version
        openjdk version "11.0.1" 2018-10-16
        OpenJDK Runtime Environment 18.9 (build 11.0.1+13)
        OpenJDK 64-Bit Server VM 18.9 (build 11.0.1+13, mixed mode)
    \end{minted}

\end{Exercise}

\subsection{Interaktive Entwicklungsumgebung}
\label{subsec:ide}

Jeder Java-Entwickler benötigt einen Programmiereditor oder eine IDE, der bei den
grungierigeren Teilen des Schreibens von Java und der Verwendung von Klassenbibliotheken
und Frameworks helfen kann. Die Entscheidung, welche IDE zum Einsatz kommt, hängt von
mehreren Faktoren ab, darunter der Art der zu entwickelnden Projekte, dem vom
Entwicklungsteam verwendeten Prozess sowie dem Niveau und den Fähigkeiten des
Entwicklers. Weitere Überlegungen sind, ob das Team die Tools und Ihre persönlichen
Präferenzen standardisiert hat.


\begin{frame}[fragile]
    \frametitle<presentation>{Entwicklungsumgebungen}

    Die drei am häufigsten für die Java-Entwicklung gewählten IDEs sind

    \begin{itemize}
        \item \href{https://www.jetbrains.com/idea}{IntelliJ IDEA}
        \item \href{https://www.eclipse.org/}{Eclipse}
        \item \href{https://netbeans.org/}{NetBeans}
    \end{itemize}

\end{frame}


Ein guter Vergleich dieser drei Umgebungen ist auch
\href{https://www.javaworld.com/article/3114167/development-tools/choosing-your-java-ide.html}
{hier} zu finden. Persönlich habe ich Eclipse in den Anfängen der IDE, später
NetBeans in den Schulungen und zu guter Letzt IntelliJ IDEA verwendet. Nach
jedem Wechsel spürte ich, dass sich meine Produktivität verbessert hatte.

Ich habe mich für IntelliJ IDEA Ultimate entschieden. Obwohl es nicht kostenlos
wie Eclipse oder NetBeans ist, glaube ich, dass der Produktivitätsgewinn den
Preis wert ist. Für unsere Schulung ist es allerdings unerheblich, welches
Produkt wir einsetzten, auch wenn ich bestimmt mit IntelliJ IDEA die bessere
Unterstützung bieten kann.


\mode<presentation>
\begin{frame}[fragile]
    \frametitle<presentation>{Übung - Installation der Entwicklungsumgebung}

    Ich habe mich für IntelliJ IDEA Ultimate entschieden. Obwohl es nicht kostenlos
    wie Eclipse oder NetBeans ist, glaube ich, dass der Produktivitätsgewinn den
    Preis wert ist.

    Für die Ausbildung können wir die Umgebung allerdings kostenfrei nutzen.

    Installiert kann diese Software via <\href{https://www.jetbrains.com/idea/download}
    {www.jetbrains.com/idea/download}>

\end{frame}

\begin{frame}[fragile]
    \frametitle<presentation>{Übung - Eingeben der Lizenz}

    \begin{minipage}[b]{0.5\textwidth}
        \image{intellij-license}{IntelliJ IDEA Lizenz}
    \end{minipage}
    \begin{minipage}[b]{0.4\textwidth}
        Während der Dauer dieser Ausbildung dürfen wir die Schulungslizenz
        kostenfrei nutzen.

        \parskip1em
        Wir referenzieren an dieser Stelle eine sogenannte {\em floating license},
        die uns von der Talent Factory zur Verfügung gestellt wurde.
    \end{minipage}
    
\end{frame}


\mode*
\begin{Exercise}[%
title={Installation der Entwicklungsumgebung},
label={ex:installation-intellij}]

% TODO Die Installation muss noch beschrieben werden
\fxfatal{Die Installation muss noch beschrieben werden.}

\end{Exercise}

% =============================================================================
%                                 CHAPTER
% =============================================================================

\section{Objekte und Klassen}
\label{sec:contents}

\begin{frame}[fragile]
    \frametitle<presentation>{Fundamentale Konzepte}

    \begin{itemize}
        \item Klassen
        \item Objekte
        \item Eigenschaften $|$ Attribute
        \item Methoden
        \item Parameter
        \item \emph{Daten Typen}
    \end{itemize}
\end{frame}


\subsection{Objekte und Klassen}
\label{subsec:objects-classes}

Wenn Sie ein Computerprogramm in einer objektorientierten Sprache schreiben,
dann erstellen Sie im Computer ein Modell eines Auschnitts der realen Welt.
Dieser Ausschnitt setzt sich aus den \emph{Objekten} zusammen, die im
Anwendungsbereich (\emph{Problem Domain}) vorkommen.

% LaTeX uses the '~' symbol as a non-breaking space.
% https://en.wikibooks.org/wiki/LaTeX/FAQ#Non-breaking_spaces

In der Abbildung~\ref{fig:uml-class} sehen wir eine einfache Klasse,
welche im vorliegenden Fall nur aus dem Namen selbst besteht. Der Name der Klasse,
sowie alle weiteren Definitionen wie Eigenschaften (Attribute), Konstanten und Methoden
folgen einer klaren Namenskonvention, auch bekannt unter
\href{https://www.geeksforgeeks.org/java-naming-conventions/}{CamelCase}.

\begin{frame}[fragile]
    \frametitle<presentation>{Darstellung einer Klasse}

    \begin{figure}[ht]
        \centering
        \begin{minipage}[b]{0.5\textwidth}
            \centering
            \begin{tikzpicture}
                \umlclass[width=4cm]%
                {Person}{Eigenschaften}{Methoden}
            \end{tikzpicture}
        \end{minipage}
        \begin{minipage}[b]{0.4\textwidth}
            \begin{minted}[frame=single,autogobble]{java}
                public class Person {
                    // Eigenschaften
                    // Methoden
                }
            \end{minted}
        \end{minipage}
        \mode<article>{\caption{UML Diagramm vs Implementation}}
        \mode<presentation>{\centering UML Diagramm vs Implementation}
        \label{fig:uml-class}
    \end{figure}

\end{frame}


\begin{frame}[fragile]
    \frametitle<presentation>{Klasse vs. Objekt}

    Doch was ist eigentlich der Untersdchied zwischen Klassen und Objekten?

    \begin{description}
        \item[Objekte] stellen \emph{Dinge} aus der realen Welt oder aus einer Problemdomäne
        dar (Beispiel: ``Das weisse Auto da unten auf dem Parkplatz'').
        \item[Klassen] repräsentieren Objekte einer bestimmten Art (Beispiel: ``Auto'').
    \end{description}

\end{frame}

Objekte können klassifiziert werden als alle Objekte einer bestimmten Art und
eine Klasse beschreibt genau dies auf abstrakte Art.

Betrachten wir unsere erste Klasse---in diesem Fall unser erstes Programm---in
seiner einfachsten Form (s. Listing~\ref{lst:hello-world}, Seite~\pageref{lst:hello-world}).

\mode<presentation>
\begin{frame}[fragile]
    \frametitle<presentation>{Meine erste Java Klasse}

    \inputminted[frame=single,samepage]{java}{../java/academy/HelloWorld.java}

\end{frame}

\mode*
\begin{listing}[ht]
    \inputminted[frame=single,linenos,samepage]{java}
        {../java/academy/HelloWorld.java}
    \caption{Erstes Programm: \emph{HelloWorld}}
    \label{lst:hello-world}
\end{listing}

Typischerweise wir eine Klasse in Java in einer Datei unter dem selben Namen abgelegt.
Hierbei ist wichtig die Gross- und Kleinschreibung zu beachten.



Der Aufbau einer Java Datei kann sehr einfach durch eine Metasprache, der sogenannten
\href{https://de.wikipedia.org/wiki/Erweiterte_Backus-Naur-Form}{Erweiterte Backus-Naur-Form}
(EBNF) dargestellt werden.

\inputminted[firstline=41,lastline=46]{antlr}{Java.g4}



\begin{frame}[fragile]
    \frametitle<presentation>{Sichtbarkeit von Objekten}

    Es existiern vier unterschiedliche Zugriffsstufen für die
    Objekte (Daten und Methoden).
    
    \begin{table}[ht]
        \centering
        \begin{tabular}{p{3cm}|c|c|c|c}
            Modifier                     & Class & Package & Subclass & Universe \\ \hline
            \mintinline{java}{private}   &  x    &         &          &          \\
            \texttt{default}             &  x    &    x    &          &          \\
            \mintinline{java}{protected} &  x    &    x    &     x    &          \\
            \mintinline{java}{public}    &  x    &    x    &     x    &    x
        \end{tabular}
        \mode<article>{\caption{Sichtbarkeit von Objekten}}
    \end{table}

\end{frame}


\mode<presentation>
\begin{frame}[fragile]
    \frametitle<presentation>{Übung: Ein einfacher Taschenrechner}
    Für unsere nächste Übung erstellen wir ein neues Projekt aus einem
    \emph{Repository}. Da es sich um ein öffentliches Projekt handelt sollte
    der Zugriff auch ohne einen persönlichen Zugang möglich sein.

    Das Projekt ist unter folgendem Link zu finden.

    \href{https://github.com/dsenften/example-simple-calculator.git}
         {https://github.com/dsenften/example-simple-calculator.git}
\end{frame}

\mode*
% ----------------------------------------------------------------------------
\begin{Exercise}[%
title={Ein einfacher Taschenrechner},
label={ex:calculator}]

    \subsubsection*{Erstellen eines neuen Projektes}

    Wenn wir mit IntelliJ arbeiten geschieht alles im Rahmen eines Projekts.
    Ein Projekt ist eine Darstellung einer entwickelten Komplettlösung, die
    aus Quellcode, Bibliotheken und Konfigurationsdateien besteht.

    Falls nicht bereits erledigt, müssen wir an dieser Stelle unser
    \href{https://www.jetbrains.com/idea}{IntelliJ IDEA} zuerst noch installieren.

    Wenn wir IntelliJ nach der Installation öffnen, werden wir vom
    Willkommensbildschirm begrüsst:

    \minibox{intellij-create-project}{Willkommensbildschirm}

    An dieser Stelle können wir ein neue Projekt erstellen, ein bestehendes öffnen
    oder in unserem Fall ein bestehendes Projekt aus einem \emph{Repository}, hier
    \href{https://github.com/dsenften/example-simple-calculator.git}{GitHub},
    klonen.

    Versucht diese Installation des Projektes vorzunehmen und anschliessend
    das Programm \texttt{academy.calculator.Calculator} zu starten. Wenn alles
    korrekt installiert wurde, dann sieht die Projektstruktur wie folgt aus:

    \minibox{simple-calculator}{Projektstruktur}
    

\end{Exercise}


\subsection{Instanzen erzeugen}
\label{subsec:create-instance}

Anhand des Beispieles aus Übung~\ref{ex:calculator} können wir sehr schön aufzeigen,
wie ein Objekt einer Bestimmten Klasse erzeugt wird.

\mode<presentation>
\begin{frame}[fragile]
    \frametitle<presentation>{Instanzen erzeugen}
    \inputminted[frame=single,samepage,firstline=3]{java}
        {../java/academy/Calculator/Calculator.java}
\end{frame}

\mode*
\begin{listing}[ht]
    \inputminted[frame=single,linenos,samepage]{java}
        {../java/academy/Calculator/Calculator.java}
    \caption{Einfacher Additions-Rechner}
    \label{lst:example-calculator}
\end{listing}


\subsection{Methoden aufrufen}
\label{subsec:call-method}

\begin{frame}[fragile]
    \frametitle<presentation>{Darstellen von einfachen Grafiken}
    Für die nächsten Beispiele verwenden wir ein anderes Projekt, welches wir
    auch unter GitHub finden: \mode<article>{\href{https://github.com/dsenften/example-figures.git}
    {example-figures}.}

    \mode<presentation>{%
        \href{https://github.com/dsenften/example-figures.git}
             {https://github.com/dsenften/example-figures.git}}

\end{frame}

\begin{frame}[fragile]
    \frametitle<presentation>{Erzeugen von Objekten}
    Basierend auf den installierten Klassen wollen wir nun die zur Verfügung
    gestellten Klassen wie als Objekte erzeugen und
    darstellen.

    \begin{block}{Übung}
        Erzeugen und darstellen eines Kreis.
        \begin{minted}[autogobble]{java}
            Circle circle = new Circle();
            circle.setVisible();
        \end{minted}
    \end{block}
\end{frame}

% ---------------------------------------------------------------------------
\subsection{Parameter}
\label{subsec:parameter}


% ---------------------------------------------------------------------------
\subsection{Datentypen}
\label{subsec:datatypes}

\begin{frame}[fragile]
\begin{table}[h]
    \frametitle<presentation>{Einfache Datentypen in Java}
    \centering
    \begin{tabular}{|l|r|l|} \hline
        \textbf{Datentyp}          & \textbf{Grösse} & \textbf{Wertebereich}                             \\ \hline
        \mintinline{java}{boolean} &                 & \mintinline{java}{true}/\mintinline{java}{false}  \\ \hline
        \mintinline{java}{char}    & 16 bit          & $0 \ldots 65'535$                                 \\ \hline
        \mintinline{java}{byte}    &  8 bit          & $-128 \ldots 127$                                 \\ \hline
        \mintinline{java}{short}   & 16 bit          & $-32'768 \ldots 32'767$                           \\ \hline
        \mintinline{java}{int}     & 32 bit          & $-2'147'483'648 \ldots 2'147'483'647$             \\ \hline
        \mintinline{java}{long}    & 64 bit          & $-9'223'372'036'854'775'808 \ldots 9'223'372'036'854'775'807$  \\ \hline
        \mintinline{java}{float}   & 32 bit          & $\pm 1.402'398 \times 10^{-45}  \ldots 3.402'823 \times 10^{38}$  \\ \hline
        \mintinline{java}{double}  & 64 bit          & $\pm 4.922'656 \times 10^{-324} \ldots 1.797'693 \times 10^{308}$ \\ \hline
    \end{tabular}
    \mode<article>{\caption{Einfache Datentypen in Java}}
\end{table}
\end{frame}

Die hier aufgeführten Gleitkommazahlen \texttt{float} und \texttt{double} sind
nach dem Standard \href{https://de.wikipedia.org/wiki/IEEE_754}{IEEE 754} abgelegt.


% =============================================================================
%                                 CHAPTER
% =============================================================================

\section{Klassendefinitionen}
\label{sec:class-definitions}

\begin{frame}[fragile]
    \frametitle<presentation>{Wichtige Konzepte}

    \begin{itemize}
        \item Eigenschaften
        \item Methoden
        \item Konstruktoren
        \item Parameter
        \item Zuweisungen
    \end{itemize}

\end{frame}


% =============================================================================
%                                 CHAPTER
% =============================================================================

\section{Objektinteraktion}
\label{sec:interaction}

% TODO Thematik "call-by-value" erläutern
\fxfatal{Thematik \emph{call by value} erläutern.}

\begin{frame}[fragile]
    \frametitle<presentation>{Beispiel: Laborkurse}
    Ein einfaches Beispiel mit Kursen und Studenten. Es zeigt einmal mehr auf, wie wir
    Objekte, Attribute und Methoden verwenden. In einem späteren Abschnitt werden wir
    an dieser Stelle die Vererbung integrieren.

    \href{https://github.com/dsenften/example-course.git}
         {https://github.com/dsenften/example-course.git}

\end{frame}

% =============================================================================
%                                 CHAPTER
% =============================================================================

\section{Objektsammlungen}
\label{sec:collections}

\subsection{Generische Klassen}
\label{subsec:generics}

\mode<presentation>
\begin{frame}[fragile]
    \frametitle<presentation>{Einfacher \emph{Cache} ohne \emph{Generics}}
    \only<1>{\inputminted[frame=single,firstline=3]{java}
        {../java/generics/CacheString.java}}
    \only<2>{\inputminted[frame=single,firstline=3]{java}
        {../java/generics/CacheShirt.java}}
\end{frame}


\mode*
Durch die Implementation verschiedener \emph{Cache} Klassen handeln wir
uns eine sehr starke Abhängigkeit ein und schreiben gleichzeitig redundanten
Code.


\begin{listing}[ht]
    \centering
    \begin{minipage}{0.45\textwidth}
        \inputminted[frame=single,linenos]{java}{../java/generics/CacheString.java}
    \end{minipage}
    \begin{minipage}{0.45\textwidth}
        \inputminted[frame=single]{java}{../java/generics/CacheShirt.java}
    \end{minipage}
    \caption{Einfacher \emph{Cache} ohne \emph{Generics}}
    \label{lst:non-generic-classes}
\end{listing}


\begin{frame}[fragile]
	\frametitle<presentation>{Schreiben generischer Klassen}
    \mode<presentation>{\inputminted[frame=single,autogobble,firstline=3]{java}
        {../java/generics/Cache.java}}
\end{frame}

\source{../java/generics/Cache.java}{Definieren einer generischen Klasse}

Durch die Verwendung generischer Klassen können wir dieses Problem sehr elegant
lösen. Die spezielle Schreibweise der Klasse \texttt{Cache} verwenden wir in
einem Programm wie folgt:

\mintinline{java}{Cache<String> cache = new Cache<>();}

Die hier eingeführte Notation mit den spitzen Klammern müssen wir allerdings noch
etwas ausführlicher betrachten. Die Klasse selbst, die wir hier verwenden heisst
\texttt{Cache}, aber sie erfordert die Angabe eines zweiten Typs als Parameter,
wenn sie zur Deklaration von Attributen oder anderen Variablen verwendet wird.

Diese generischen Klassen definieren, im Gegensatz zu allen bisher betrachteten
Klassen, nich einen einzelnen Typ, sondern beliebig viele Typen. Wir können
beispielsweise weitere Objekte definieren:

\begin{minted}[autogobble]{java}
    private Cache<Integer> cache = new Cache<>();
    private Cache<Person> cache = new Cache<>();
    private Cache<Circle> cache = new Cache<>();
\end{minted}




\subsection{Sammlungen $|$ \emph{Collections}}
\label{subsec:collections}

Bis zu diesem Punkt haben wir nur einfache Objekte betrachtet, die wir
wahlweise auch mit einer anderen Bezeichnung (Attribut, Eigenschaft)
benutzten. So trafen wir auf folgende Deklarationen:

\begin{minted}[autogobble]{java}
    private int age;
    private String firstName;
    private Circle circle;
\end{minted}

Neben diesen einfachen Strukturen sind auch statische Vektoren und
mehrdimensionale Array mögliche. So sind wir auch folgender Deklarationen
begegnet:

\begin{minted}[autogobble]{java}
    String[] args; // Statischer (eindimensionaler) Array fester Grösse
\end{minted}

Wollen wir allerdings eine dynamische Anzahl von Objekten in einer Datenstruktur
speichern, dann ist dies nur mit entsprechenden Datentypen möglich. In Java
sprechen wir vom sogenannten \emph{Collection API}. Generell wird an dieser
Stelle auch gerne der Begriff der \emph{Abstrakten Datentypen} verwendet.

\begin{frame}[fragile]
    \frametitle<presentation>{Collections}
    \begin{itemize}
        \item Eine Sammlung ist eine Objekt, welches eine Reihe anderer
            Objekte verwaltet
        \begin{itemize}
            \item Einzelne Objekte einer Sammlung nennen wir Elemente
            \item Einfache/Primitive Datentype sind nicht erlaubt
        \end{itemize}
        \item Es existieren viele vordefinierten Typen
        \begin{itemize}
            \item \emph{Stack}, \emph{Queue}, \emph{Hash}
        \end{itemize}
        \item Das \emph{Collection API} basiert stark auf generischen Klassen
    \end{itemize}
\end{frame}

In der Abblildung~\ref{uml:collection-api} (Seite~\pageref{uml:collection-api}) ist
nur ein kleiner Ausschnitt des \emph{Collection API's} dargestellt. Um sich einen
kompletten Überblich zu machen ist sicher die
\href{https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html}
{Java Dokumentation} ein guter Start. Auch die an dieser Stelle erwähnten Methoden sind
nur auszugweise aufgeführt.

\begin{figure}[ht]
    \centering
    \begin{tikzpicture}
        \umlclass[type=interface]{Collection}{}{%
            int size() \\
            boolean isEmpty() \\
            boolean contains(Object o) \\
            boolean add(E e) \\
            boolean remove(Object o)
        }

        \umlclass[type=interface,below left=3cm and 1cm of Collection,anchor=north]{Set}{}{%
            int size() \\
            void clear() \\
            boolean isEmpty() \\
            boolean equals(Object o);
        }
        \umlVHVinherit{Set}{Collection}

        \umlclass[type=interface,right=8cm of Set.north,anchor=north]{List}{}{%
            int size() \\
            boolean isEmpty() \\
            boolean add(E e) \\
            boolean remove(Object o)
        }
        \umlVHVinherit{List}{Collection}

        \umlclass[type=interface,below left=2cm and 0.0cm of Set,anchor=north]{NavigableSet}{}{}
        \umlVHVinherit{NavigableSet}{Set}

        \umlclass[type=interface,right=4cm of NavigableSet.north,anchor=north]{SortedSet}{}{}
        \umlVHVinherit{SortedSet}{Set}

        \umlclass[below left=2cm and 0.0cm of List,anchor=north]{ArrayList}{}{%
            int indexOf(Object o) \\
            Iterator<E> iterator()
        }
        \umlVHVimpl{ArrayList}{List}

        \umlclass[right=5cm of ArrayList.north,anchor=north]{Stack}{}{%
            E pop() \\
            E push(E item)
        }
        \umlVHVimpl{Stack}{List}

    \end{tikzpicture}
    \caption{Collection API}
    \label{uml:collection-api}
\end{figure}

Mit unserem Vorwissen in der Verwendung generischer Klassen konnen wir nun
eine Liste für eine beliebige Anzahl von Obkten eines bestimmten Typs wie
folgt deklarieren und gleichzeitig initialisieren:

\begin{minted}[autogobble,samepage]{java}
    ArrayList<Student> students = new ArrayList<>();
    myPersonList.add(new Student("Senften, Daniel", "1234-123-45"));
\end{minted}


% =============================================================================
%                                 CHAPTER
% =============================================================================

\section{Klassendesign durch Vererbung}
\label{sec:inheritance}

\begin{frame}[fragile]
    \frametitle<presentation>{Vererbung $|$ Inheritance}
    \mode<presentation>{\inputminted[frame=single,autogobble,firstline=8,lastline=18]{java}
        {../java/inheritance/Employee.java}}
\end{frame}

Wir wenden an dieser Stelle absichtlich die Unterstützung der
\href{https://projectlombok.org/features/all}{Lombok} Annotationen an, damit
der Quelltext etwas übersichtlicher wird.

\source{../java/inheritance/Employee.java}{Klasse: \emph{Employee}}

% -----------------

\begin{frame}[fragile]
    \frametitle<presentation>{Vererbung $|$ Inheritance}
    \mode<presentation>{\inputminted[frame=single,autogobble,firstline=8,lastline=16]{java}
        {../java/inheritance/Manager.java}}
\end{frame}

Wir wenden an dieser Stelle absichtlich die Unterstützung der
\href{https://projectlombok.org/features/all}{Lombok} Annotationen an, damit
der Quelltext etwas übersichtlicher wird.

\source{../java/inheritance/Manager.java}{Klasse: \emph{Manager}}
